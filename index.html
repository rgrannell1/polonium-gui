<!DOCTYPE html>
<html>
	<head>
	<title>Polonium</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">

	<link href="css/flat-ui.css" rel="stylesheet" type="text/css">

	<script type="text/javascript" src="js/jquery.js"></script>

	<link href="css/polo.css" rel="stylesheet" type="text/css">

	<script type="text/javascript">

		const keyCode      = require('./js/key-code')
		const isCapsLocked = require('./js/is-caps-locked')

	</script>

	</head>
	<body>


		<div class="container">
			<form class="form-signin" role="form">

				<div class="span8">

					<!-- The salt input field. -->

					<div class="input-group">
						<input type="text"     class="form-control" id="salt"     placeholder="Salt" autofocus>
					</div>

			    </div>

		    	<!-- The password input field, and associated caplocks warning. -->

				<div class="input-group">
					<input type="password" class="form-control" id="password" placeholder="Master Password">
					<span class="input-group-addon capslock-warning">
						!
					</span>
				</div>

				<div class="input-group">
					<input type="password" class="form-control" id="confirm-password" placeholder="Confirm your password">
					<span class="input-group-addon capslock-warning">
						!
					</span>
				</div>

				<!-- Should the password be verified (and entropy be displayed?) -->
				<div>

					<label>
						<input type="checkbox" id="should-verify"> Confirm your password
					</label>

				</div>

					<button class="btn btn-lg btn-primary btn-block" type="submit">Get Password</button>


			    <div class="span4"></div>
			</form>
	    </div>

	</body>

	<script type="text/javascript">

		// hide the caplocks warning initially.
		$(".capslock-warning").hide()
		// hide the password confirmation box.
		$("#confirm-password").hide()

		// alert if caplocks is enabled.
		$("#password").keypress(function (key) {

			if (isCapsLocked(key)) {
				$(".capslock-warning").show()
			} else {
				$(".capslock-warning").hide()
			}
		})


		$("#should-verify").on('change', function () {

			if ($(this).is(":checked")) {
				$("#confirm-password").show()
			} else {
				$("#confirm-password").hide()
			}

		})




		// execute the script if enter is called.
		$("html").keypress(function (key) {
			if (key.which === keyCode.enter) {
				alert('enter!')
			}
		})




	</script>

</html>
