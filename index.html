<!DOCTYPE html>
<html>
	<head>
	<title>Polonium</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">

	<link href="css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">

	<script type="text/javascript" src="js/jquery.js"></script>

	<link href="css/polo.css" rel="stylesheet" type="text/css">

	<script type="text/javascript">

		const keyCode      = require('./js/key-code')
		const isCapsLocked = require('./js/is-caps-locked')
		const copy         = require('./js/copy')

	</script>

	</head>
	<body onload="initialise()">

		<div class="panel panel-default">
			<div class="panel-body">

				<div class="container">
					<form class="form-main" role="form">

						<div class="span8">

							<!-- The salt input field. -->

							<div class="input-group">
								<input type="text"     class="form-control" id="salt"     placeholder="Salt" autofocus>
							</div>

					    </div>

				    	<!-- The password input field, and associated caplocks warning. -->

						<div class="input-group">
							<input type="password" class="form-control" id="password" placeholder="Master Password">
							<span class="input-group-addon capslock-warning">
								!
							</span>
						</div>

						<div class="input-group">
							<input type="password" class="form-control" id="confirm-password" placeholder="Re-enter password">
							<span class="input-group-addon capslock-warning">
								!
							</span>
						</div>

						<!-- Should the password be verified (and entropy be displayed?) -->
						<div>

							<label>
								<input type="checkbox" id="should-verify"> Confirm your password
							</label>

						</div>

						<!-- A large generate-password button) -->

						<button class="btn btn-lg btn-primary btn-block" type="button" id="get-password">Get Password</button>

					    <div class="span4"></div>
					</form>
			    </div>

			</div>
		</div>


	</body>

	<script type="text/javascript">

		const initialise = function () {

			$(".capslock-warning").hide()
			// hide the password confirmation box.
			$("#confirm-password").hide()
			$("#success-password").hide()

		}

	</script>

	<script type="text/javascript">

		// hide the caplocks warning initially.

		// alert if caplocks is enabled.
		$("#password").keypress(function (key) {

			if (isCapsLocked(key)) {
				$(".capslock-warning").show()
			} else {
				$(".capslock-warning").hide()
			}
		})


		$("#should-verify").on('change', function () {

			if ($(this).is(":checked")) {
				$("#confirm-password").show()
			} else {
				$("#confirm-password").hide()
			}

		})


		$("#get-password").click(function () {

			$(this)
			.removeClass("btn-primary")
			.addClass("btn-success")
			.text("Copied!")

			/*
			.removeClass("btn-success")
			.addClass("btn-primary")
			.text("Get Password")
			*/

		})




		// execute the script if enter is called.
		//$("html").keypress(function (key) {
		//	if (key.which === keyCode.enter) {
		//		alert('enter!')
		//	}
		//})




	</script>

</html>
