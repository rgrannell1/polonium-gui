<!DOCTYPE html>
<html lang="en">
<html>
	<head>
	<title>Polonium</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">

	<script type="text/javascript" src="js/jquery.js"></script>

	<link href="css/polo.css" rel="stylesheet" type="text/css">

	<script type="text/javascript">
		/*

			Require dependencies.
		*/

		const keyCode      = require('./js/key-code')
		const isCapsLocked = require('./js/is-caps-locked')
		const copy         = require('./js/copy')

	</script>

	</head>
	<body>

	<div class="container">

		<form class="form-main" role="form">

			<!-- The salt input field. -->

			<div class="input-group">
				<input type="text" class="form-control" spellcheck="false" value="" id="salt" placeholder="Salt" autofocus tabindex="1">
			</div>

	    	<!-- The password input field, and associated caplocks warning. -->

			<div class="input-group">
				<input type="password" class="form-control" id="password" placeholder="Master Password" tabindex="2">
			</div>

			<!-- A large generate-password button) -->

			<button class="btn btn-lg btn-primary btn-block" type="button" id="get-password" tabindex="3">Get Password</button>

		</form>

    </div>

	</body>

	<script type="text/javascript">

		// hide the caplocks warning initially.

		// alert if caplocks is enabled.
		$("#password").keypress(function (key) {

			isCapsLocked(key) ?
				$(".capslock-warning").text("!"):
				$("#capslock-warning").text("")

		})

		$("#should-verify").on('change', function () {

			if ($(this).is(":checked")) {
				$("#confirm-password").show()
			} else {
				$("#confirm-password").hide()
			}

		})



		$("#get-password").click(function () {

			$(this)
			.removeClass("btn-primary")
			.addClass("btn-success")
			.text("Copied!")

			const pid = setTimeout(function () {

				$("#get-password")
				.removeClass("btn-success")
				.addClass("btn-primary")
				.text("Get Password")

				clearInterval(pid)

			}, 1250)

		})

	</script>

</html>
